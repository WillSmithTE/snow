(this["webpackJsonpski-fe"]=this["webpackJsonpski-fe"]||[]).push([[0],{187:function(e,t,n){e.exports=n(303)},192:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(48),i=n.n(l),c=(n(192),n(180)),o=n(71),s=n(97),u=n(159),f=n(160),d=n(179),m=n(181),h=n(332),y=n(334),p=n(342),b=n(340),v=n(328),g=n(333),k={Jan:{firstDay:1,label:"Jan"},Feb:{firstDay:32,label:"Feb"},Mar:{firstDay:60,label:"Mar"},Apr:{firstDay:91,label:"Apr"},May:{firstDay:121,label:"May"},June:{firstDay:152,label:"June"},July:{firstDay:182,label:"July"},Aug:{firstDay:213,label:"Aug"},Sept:{firstDay:244,label:"Sept"},Oct:{firstDay:274,label:"Oct"},Nov:{firstDay:305,label:"Nov"},Dec:{firstDay:335,label:"Dec"},end:{firstDay:366,label:""}},E=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={hiddenSeries:new Set},a}return Object(f.a)(n,[{key:"buildEvents",value:function(){var e=this;return this.props.series.map((function(t,n){return{childName:["legend"],target:["data","labels"],eventKey:String(n),eventHandlers:{onClick:function(){return[{childName:["area-"+n],target:"data",eventKey:"all",mutation:function(){return e.state.hiddenSeries.delete(n)||e.state.hiddenSeries.add(n),e.setState({hiddenSeries:new Set(e.state.hiddenSeries)}),null}}]},onMouseOver:function(){return[{childName:["area-"+n],target:"data",eventKey:"all",mutation:function(e){return{style:Object(o.a)({},e.style,{strokeWidth:4,fillOpacity:.5})}}}]},onMouseOut:function(){return[{childName:["area-"+n],target:"data",eventKey:"all",mutation:function(){return null}}]}}}}))}},{key:"render",value:function(){var e=this;return console.error(Object.keys(k)),a.createElement("div",null,a.createElement(h.a,{height:200,events:this.buildEvents(),containerComponent:a.createElement(y.a,{labels:function(e){var t=e.datum.y;return"".concat(t,"cm")},radius:5,labelComponent:a.createElement(p.a,{centerOffset:{x:5},style:{fontSize:"6px"}})})},a.createElement(b.a,{style:{grid:{stroke:"#818e99",strokeWidth:.5},tickLabels:{fontSize:8}},tickValues:Object.values(k).map((function(e){return e.firstDay})),tickFormat:function(e){return Object.values(k).find((function(t){return t.firstDay===e})).label}}),a.createElement(b.a,{style:{grid:{stroke:"#818e99",strokeWidth:.5},tickLabels:{fontSize:8}},dependentAxis:!0,tickFormat:function(e){return"".concat(e,"cm")}}),this.props.series.map((function(t,n){var r;if(!e.state.hiddenSeries.has(n))return a.createElement(v.a,{key:"area-"+n,name:"area-"+n,data:(r=t,r.datapoints.map((function(e){return{name:r.name,x:e.x,y:e.y}}))),style:{data:{fill:t.color,fillOpacity:.2,stroke:t.color,strokeWidth:2}}})})),a.createElement(g.a,{orientation:"horizontal",itemsPerRow:6,name:"legend",data:this.props.series.map((function(t,n){var a,r=(a=t).color?{name:a.name,symbol:{fill:a.color}}:{name:a.name};return e.state.hiddenSeries.has(n)?Object(o.a)({},r,{symbol:{fill:"#999"}}):r})),height:10,style:{labels:{fontSize:8}}})))}}]),n}(a.Component),w=n(121),x=n.n(w),S=n(122),O=n.n(S),D=n(170),j={getSpencersCreek:function(){var e=Object(D.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://ski-be-hgfltltt5a-de.a.run.app/","/api/spencersCreek/a"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},C=n(171);function M(){var e=Object(C.a)(["\n    display: flex;\n    flex-direction: row;\n    padding: 10px;\n    flex-wrap: wrap;\n    justify-content: space-between;\n"]);return M=function(){return e},e}var Y=n(172).a.div(M()),J=n(337),W=n(327),A=n(338),N=n(329),z=n(326),F=function(){return r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement("h3",null,"Loading..."),r.a.createElement(z.a,{style:{margin:"0 auto"}}))},K=function(){return r.a.createElement("div",{style:{color:"red"}},r.a.createElement("h3",null,"Oops, something went wrong! Please try refreshing the page."))},L=[{x:1,y:0},{x:365,y:0}],B=function(){var e=r.a.useState(void 0),t=Object(s.a)(e,2),n=t[0],l=t[1],i=r.a.useState(!1),u=Object(s.a)(i,2),f=u[0],d=u[1],m=r.a.useState({2015:!0,2016:!0,2017:!0,2018:!0,2019:!0,2020:!0}),h=Object(s.a)(m,2),y=h[0],p=h[1],b=function(e){var t=e.target,n=t.name,a=t.checked,r=Object(o.a)({},y);r[n]=a,p(r)};return Object(a.useEffect)((function(){j.getSpencersCreek().then((function(e){var t=e.map((function(e){var t=e.year,n=e.data;return{name:t,color:"#000000".replace(/0/g,(function(){return(~~(16*Math.random())).toString(16)})),datapoints:L.concat(n.map((function(e){var t=e.date,n=e.snow;return{x:P(t),y:n}})))}}));l(t)}),(function(){return d(!0)}))}),[]),r.a.createElement(Y,null,r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement("h1",null,"Spencers Creek Snowfall"),f&&r.a.createElement(K,null),n?r.a.createElement(E,{series:n.filter((function(e){var t,n=e.name;return t=n,console.error({year:t,show:y[t]}),y[t]}))}):r.a.createElement(F,null)),n&&r.a.createElement("div",{style:{minWidth:"300px"}},r.a.createElement(J.a,null,"Years"),r.a.createElement(W.a,{label:"Years",style:{display:"flex",flexFlow:"column wrap",maxHeight:"680px",overflow:"auto",alignContent:"flex-start",width:"300px"}},Object(c.a)(n).reverse().map((function(e){var t=e.name;return r.a.createElement(H,{year:t,selectedYears:y,handleCheckboxChange:b})})))))},H=function(e){var t=e.selectedYears,n=e.handleCheckboxChange,a=e.year;return r.a.createElement(A.a,{control:r.a.createElement(N.a,{checked:t[a],onChange:n,name:a,style:{color:"black"}}),label:a})};function P(e){var t=x()(e,"YYYY-MM-DD"),n=t.year(),a=x()(n+"-01-01","YYYY-MM-DD");return t.diff(a,"days")}var G=function(){return r.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.1ac872a4.chunk.js.map