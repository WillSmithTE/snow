(this["webpackJsonpski-fe"]=this["webpackJsonpski-fe"]||[]).push([[0],{221:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var a,r,c,o,i,s,u=n(1),l=n.n(u),f=n(19),d=n.n(f),h=(n(221),n(21)),j=n(66),b=n(67),p=b.a.div(a||(a=Object(j.a)(["\n    display: flex;\n    flex-direction: row;\n    padding-top: 20px;\n    flex-wrap: wrap;\n    justify-content: space-between;\n"]))),x=b.a.div(r||(r=Object(j.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),O=(b.a.div(c||(c=Object(j.a)(["\n    opacity: 0.4;\n    margin: 30px;\n    background-color: white;\n"]))),b.a.div(o||(o=Object(j.a)(["\n    background: url(",") center 0px; \n    background-repeat: repeat no-repeat;\n    @media (max-width: 600px) {\n        min-height: 150px;\n        background-size: auto 150px;\n    }\n    @media (min-width: 601px) {\n        min-height: 200px;\n        background-size: auto 200px;\n    }\n"])),"/snow/mountains.png")),m=b.a.img(i||(i=Object(j.a)(["\n    margin: auto;\n    display: block;\n    padding-top: 20px;\n    @media (max-width: 600px) {\n        height: 70px;\n    }\n    @media (min-width: 601px) {\n        height: 100px;\n    }\n"]))),y=b.a.div(s||(s=Object(j.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 0 10%;\n"]))),v=n(369),g=n(388),w=n(389),D=n(382),k=n(6),S=function(e){var t=e.handleChange,n=e.format;return Object(k.jsx)(v.a,{component:"fieldset",style:{alignItems:"center",paddingTop:"20px"},children:Object(k.jsx)(g.a,{value:n,onChange:t,children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(k.jsx)(w.a,{value:"years",control:Object(k.jsx)(D.a,{color:"primary"}),label:"Compare years",style:{paddingRight:"20px"}}),Object(k.jsx)(w.a,{value:"resorts",control:Object(k.jsx)(D.a,{color:"primary"}),label:"Compare resorts"})]})})})},C=n(145),M=n.n(C),Y=n(198),J={},F={getSnowDepth:function(){var e=Object(Y.a)(M.a.mark((function e(){var t,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J.getSnowDepth){e.next=4;break}return e.abrupt("return",J.getSnowDepth);case 4:return e.next=6,fetch("".concat("https://ski-be-hgfltltt5a-de.a.run.app","/api/snowDepth"));case 6:return t=e.sent,e.next=9,t.json();case 9:return n=e.sent,J.getSnowDepth=n,e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},A=function(){return Object(k.jsx)("div",{style:{color:"red"},children:Object(k.jsx)("h3",{children:"Oops, something went wrong. Please try refreshing the page or come back later. Sorry about that"})})},H=n(374),E=function(){return Object(k.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(k.jsx)("h3",{children:"Loading..."}),Object(k.jsx)(H.a,{style:{margin:"0 auto"}})]})},W=n(124),z=n(56),I=n(380),N=n(387),P=n(395),L=n(393),K=n(376),R=n(383),T=n(95),B=n.n(T);function G(e,t){var n=B()(e,"YYYY-MM-DD");t||n.subtract(6,"months");var a=n.year(),r=B()(a+"-01-01","YYYY-MM-DD");return n.diff(r,"days")}var V=[{firstDay:1,south:"Jan",north:"July",both:"Jan/\nJuly"},{firstDay:32,south:"Feb",north:"Aug",both:"Feb/\nAug"},{firstDay:60,south:"Mar",north:"Sept",both:"Mar/\nSept"},{firstDay:91,south:"Apr",north:"Oct",both:"Apr/\nOct"},{firstDay:121,south:"May",north:"Nov",both:"May/\nNov"},{firstDay:152,south:"June",north:"Dec",both:"June/\nDec"},{firstDay:182,south:"July",north:"Jan",both:"July/\nJan"},{firstDay:213,south:"Aug",north:"Feb",both:"Aug/\nFeb"},{firstDay:244,south:"Sept",north:"Mar",both:"Sept/\nMar"},{firstDay:274,south:"Oct",north:"Apr",both:"Oct/\nApr"},{firstDay:305,south:"Nov",north:"May",both:"Nov/\nMay"},{firstDay:335,south:"Dec",north:"June",both:"Dec/\nJune"},{firstDay:366,south:"",north:"",both:""}];var $=function(e){var t=e.series,n=e.monthDisplay,a=u.useState([]),r=Object(h.a)(a,2),c=r[0],o=r[1];return u.useEffect((function(){o(t.map((function(e,t){return{childName:["legend"],target:["data","labels"],eventKey:String(t),eventHandlers:{onMouseOver:function(){return[{childName:["area-"+t],target:"data",eventKey:"all",mutation:function(e){return{style:Object(z.a)(Object(z.a)({},e.style),{},{strokeWidth:4,fillOpacity:.5})}}}]},onMouseOut:function(){return[{childName:["area-"+t],target:"data",eventKey:"all",mutation:function(){return null}}]}}}})))}),[t]),Object(k.jsx)("div",{children:Object(k.jsxs)(I.a,{height:200,events:c,containerComponent:Object(k.jsx)(N.a,{labels:function(e){var t=e.datum,a=t.x,r=t.y;return"".concat(function(e,t){return function(e,t){var n=B()().year(),a=B()(n+"-01-01","YYYY-MM-DD").add(e,"days");return t||a.subtract(6,"months"),a.format("DD MMM")}(e,"north"!==t)}(a,n),"\n").concat(r,"cm")},radius:5,labelComponent:Object(k.jsx)(P.a,{centerOffset:{x:5},style:{fontSize:"6px"}})}),children:[Object(k.jsx)(L.a,{style:{grid:{stroke:"#818e99",strokeWidth:.5},tickLabels:{fontSize:8}},tickValues:V.map((function(e){return e.firstDay})),tickFormat:function(e){return V.find((function(t){return t.firstDay===e}))[n]}}),Object(k.jsx)(L.a,{style:{grid:{stroke:"#818e99",strokeWidth:.5},tickLabels:{fontSize:8}},dependentAxis:!0,tickFormat:function(e){return"".concat(e,"cm")}}),t.map((function(e,t){return Object(k.jsx)(K.a,{name:"area-"+t,data:(n=e,n.datapoints.map((function(e){return{name:n.name,x:e.x,y:e.y}}))),style:{data:{fill:e.color,fillOpacity:.2,stroke:e.color,strokeWidth:2}}},"area-"+t);var n})),Object(k.jsx)(R.a,{orientation:"horizontal",itemsPerRow:6,name:"legend",data:t.map((function(e,t){return(n=e).color?{name:n.name,symbol:{fill:n.color}}:{name:n.name};var n})),height:50,style:{labels:{fontSize:8,cursor:"pointer"}}})]})})},q=n(375),Q=n(373),U=n(384),X=["#556b2f","#2f4f4f","#dcdcdc","#d2691e","#4682b4","#3cb371","#808000","#708090","#006400","#191970","#7f0000","#ffb6c1","#ff69b4","#7fffd4","#ff1493","#87ceeb","#90ee90","#dda0dd","#fa8072","#f0e68c","#db7093","#1e90ff","#ff00ff","#da70d6","#ff6347","#adff2f","#8b008b","#a020f0","#0000ff","#9370db","#f4a460","#00bfff","#00ffff","#dc143c","#00ff7f","#00ff00","#deb887","#0000cd","#ffff00","#ffd700","#ff8c00","#ff4500","#9932cc","#8fbc8f","#daa520","#32cd32","#00008b","#20b2aa","#9acd32"];function Z(){return"#000000".replace(/0/g,(function(){return(~~(16*Math.random())).toString(16)}))}var _=function(e){var t=e.data,n=e.isSouthernHemisphere,a=l.a.useState(te(t)),r=Object(h.a)(a,2),c=r[0],o=r[1];Object(u.useEffect)((function(){o(te(t))}),[t]);var i=function(e){var t=e.target,n=t.name,a=t.checked,r=Object(z.a)({},c);r[n]=a,o(r)},s=t.map((function(e,t){var a=e.year,r=e.yearData;return{name:a,color:X[t]||Z(),datapoints:r.map((function(e){var t=e.date,a=e.snow;return{x:G(t,n),y:a}}))}}));return Object(k.jsxs)(p,{children:[Object(k.jsx)("div",{style:{flexGrow:1,marginRight:"-60px",marginLeft:"-20px"},children:Object(k.jsx)($,{series:s.filter((function(e){var t=e.name;return c[t]})),monthDisplay:n?"south":"north"})}),s&&Object(k.jsxs)("div",{style:{minWidth:"300px"},children:[Object(k.jsx)(q.a,{children:"Years"}),Object(k.jsx)(Q.a,{label:"Years",style:{display:"flex",flexFlow:"column wrap",maxHeight:"680px",overflow:"auto",alignContent:"flex-start",width:"300px"},children:Object(W.a)(s).reverse().map((function(e){var t=e.name;return Object(k.jsx)(ee,{year:t,selectedYears:c,handleCheckboxChange:i},t)}))})]})]})},ee=function(e){var t=e.selectedYears,n=e.handleCheckboxChange,a=e.year;return Object(k.jsx)(w.a,{control:Object(k.jsx)(U.a,{checked:t[a],onChange:n,name:a,style:{color:"black"}}),label:a})},te=function(e){for(var t={},n=1900;n<=e[e.length-1].year;n++)t[n]=!1;return t[e[e.length-1].year]=!0,t[e[e.length-2].year]=!0,t},ne=n(377),ae=n(390),re=function(){var e=l.a.useState(void 0),t=Object(h.a)(e,2),n=t[0],a=t[1],r=l.a.useState(!1),c=Object(h.a)(r,2),o=c[0],i=c[1],s=l.a.useState(void 0),f=Object(h.a)(s,2),d=f[0],j=f[1];Object(u.useEffect)((function(){F.getSnowDepth().then(a,(function(){return i(!0)}))}),[]),Object(u.useEffect)((function(){if(n){var e=n.findIndex((function(e){return"Spencers Creek"===e.place}));j(-1===e?0:e)}}),[n]);var b=n&&n[d]||{},p=b.data,x=b.isSouthernHemisphere;return Object(k.jsxs)(k.Fragment,{children:[o&&Object(k.jsx)(A,{}),n&&void 0!==d?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Snow Depth"}),Object(k.jsx)(ce,{placeIndex:d,setPlaceIndex:j,data:n}),Object(k.jsx)(_,{data:p,isSouthernHemisphere:x})]}):Object(k.jsx)(E,{})]})},ce=function(e){var t=e.placeIndex,n=e.setPlaceIndex,a=e.data;return Object(k.jsx)(v.a,{style:{width:"300px",paddingTop:"15px 0px 20px"},children:Object(k.jsx)(ne.a,{value:t,onChange:function(e){return n(e.target.value)},children:a.map((function(e,t){var n=e.place;return Object(k.jsx)(ae.a,{value:t,children:n},t)}))})})},oe=n(115),ie=function(e){var t=e.data,n=t.reduce((function(e,t){var n=t.place;return Object(z.a)(Object(oe.a)({},n,!0),e)}),{}),a=l.a.useState(n),r=Object(h.a)(a,2),c=r[0],o=r[1],i=function(e){var t=e.target,n=t.name,a=t.checked,r=Object(z.a)({},c);r[n]=a,o(r)},s=t.map((function(e,t){var n=e.place,a=e.isSouthernHemisphere,r=e.data.yearData;return{name:n,color:X[t]||Z(),datapoints:r.map((function(e){var t=e.date,n=e.snow;return{x:G(t,a),y:n}}))}}));return Object(k.jsxs)(p,{children:[Object(k.jsx)("div",{style:{flexGrow:1},children:Object(k.jsx)($,{series:s.filter((function(e){var t=e.name;return c[t]})),monthDisplay:"both"})}),s&&Object(k.jsxs)("div",{style:{minWidth:"300px"},children:[Object(k.jsx)(q.a,{children:"Places"}),Object(k.jsx)(Q.a,{label:"Places",style:{display:"flex",flexFlow:"column wrap",maxHeight:"680px",overflow:"auto",alignContent:"flex-start",width:"300px"},children:Object(W.a)(s).reverse().map((function(e){var t=e.name;return Object(k.jsx)(se,{value:t,selected:c,handleCheckboxChange:i},t)}))})]})]})},se=function(e){var t=e.selected,n=e.handleCheckboxChange,a=e.value;return Object(k.jsx)(w.a,{control:Object(k.jsx)(U.a,{checked:t[a],onChange:n,name:a,style:{color:"black"}}),label:a})},ue=function(){var e=l.a.useState(void 0),t=Object(h.a)(e,2),n=t[0],a=t[1],r=l.a.useState(!1),c=Object(h.a)(r,2),o=c[0],i=c[1],s=l.a.useState("2018"),f=Object(h.a)(s,2),d=f[0],j=f[1];Object(u.useEffect)((function(){F.getSnowDepth().then(a,(function(){return i(!0)}))}),[]);var b=n&&n.map((function(e){var t=e.data,n=e.place,a=e.isSouthernHemisphere;return{data:t.find((function(e){return e.year===d})),place:n,isSouthernHemisphere:a}}));return Object(k.jsxs)(k.Fragment,{children:[o&&Object(k.jsx)(A,{}),b?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Snow Depth"}),Object(k.jsx)(le,{year:d,setYear:j,data:n}),Object(k.jsx)(ie,{data:b})]}):Object(k.jsx)(E,{})]})},le=function(e){var t=e.year,n=e.setYear,a=e.data,r=fe(a);return Object(k.jsx)(v.a,{style:{width:"100px",paddingTop:"15px 0px 20px"},children:Object(k.jsx)(ne.a,{value:t,onChange:function(e){return n(e.target.value)},children:r.map((function(e){return Object(k.jsx)(ae.a,{value:e,children:e},e)}))})})},fe=function(e){var t={},n={};return e.forEach((function(e){return e.data.forEach((function(e){var a=e.year;n[a]||(t[a]?n[a]=!0:t[a]=!0)}))})),Object.keys(n)};n(334);var de=function(){var e=Object(u.useState)("years"),t=Object(h.a)(e,2),n=t[0],a=t[1];return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(x,{children:[Object(k.jsx)(O,{children:Object(k.jsx)(m,{src:"".concat("/snow","/logo.png"),alt:"logo",style:{}})}),Object(k.jsxs)(y,{children:[Object(k.jsx)(S,{format:n,handleChange:function(e){a(e.target.value)}}),"years"===n?Object(k.jsx)(re,{}):Object(k.jsx)(ue,{})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(Object(k.jsx)(l.a.StrictMode,{children:Object(k.jsx)(de,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[335,1,2]]]);
//# sourceMappingURL=main.1c0d8fa5.chunk.js.map