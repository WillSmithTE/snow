(this["webpackJsonpski-fe"]=this["webpackJsonpski-fe"]||[]).push([[0],{187:function(e,t,a){e.exports=a(303)},192:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(48),c=a.n(l),i=(a(192),a(71)),o=a(116),s=a.n(o),f=a(159),u={getSnowDepth:function(){var e=Object(f.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://ski-be-hgfltltt5a-de.a.run.app","/api/snowDepth"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},d=function(){return r.a.createElement("div",{style:{color:"red"}},r.a.createElement("h3",null,"Oops, something went wrong. Please try refreshing the page or come back later. Sorry about that"))},m=a(326),h=function(){return r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement("h3",null,"Loading..."),r.a.createElement(m.a,{style:{margin:"0 auto"}}))},b=a(180),p=a(72),y=a(163),v=a(164),g=a(179),E=a(181),k=a(332),w=a(336),D=a(342),x=a(340),S=a(328),O=a(333),j={Jan:{firstDay:1,label:"Jan"},Feb:{firstDay:32,label:"Feb"},Mar:{firstDay:60,label:"Mar"},Apr:{firstDay:91,label:"Apr"},May:{firstDay:121,label:"May"},June:{firstDay:152,label:"June"},July:{firstDay:182,label:"July"},Aug:{firstDay:213,label:"Aug"},Sept:{firstDay:244,label:"Sept"},Oct:{firstDay:274,label:"Oct"},Nov:{firstDay:305,label:"Nov"},Dec:{firstDay:335,label:"Dec"},end:{firstDay:366,label:""}},Y=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={hiddenSeries:new Set},n}return Object(v.a)(a,[{key:"buildEvents",value:function(){var e=this;return this.props.series.map((function(t,a){return{childName:["legend"],target:["data","labels"],eventKey:String(a),eventHandlers:{onClick:function(){return[{childName:["area-"+a],target:"data",eventKey:"all",mutation:function(){return e.state.hiddenSeries.delete(a)||e.state.hiddenSeries.add(a),e.setState({hiddenSeries:new Set(e.state.hiddenSeries)}),null}}]},onMouseOver:function(){return[{childName:["area-"+a],target:"data",eventKey:"all",mutation:function(e){return{style:Object(p.a)({},e.style,{strokeWidth:4,fillOpacity:.5})}}}]},onMouseOut:function(){return[{childName:["area-"+a],target:"data",eventKey:"all",mutation:function(){return null}}]}}}}))}},{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement(k.a,{height:200,events:this.buildEvents(),containerComponent:n.createElement(w.a,{labels:function(e){var t=e.datum.y;return"".concat(t,"cm")},radius:5,labelComponent:n.createElement(D.a,{centerOffset:{x:5},style:{fontSize:"6px"}})})},n.createElement(x.a,{style:{grid:{stroke:"#818e99",strokeWidth:.5},tickLabels:{fontSize:8}},tickValues:Object.values(j).map((function(e){return e.firstDay})),tickFormat:function(e){return Object.values(j).find((function(t){return t.firstDay===e})).label}}),n.createElement(x.a,{style:{grid:{stroke:"#818e99",strokeWidth:.5},tickLabels:{fontSize:8}},dependentAxis:!0,tickFormat:function(e){return"".concat(e,"cm")}}),this.props.series.map((function(t,a){var r;if(!e.state.hiddenSeries.has(a))return n.createElement(S.a,{key:"area-"+a,name:"area-"+a,data:(r=t,r.datapoints.map((function(e){return{name:r.name,x:e.x,y:e.y}}))),style:{data:{fill:t.color,fillOpacity:.2,stroke:t.color,strokeWidth:2}}})})),n.createElement(O.a,{orientation:"horizontal",itemsPerRow:6,name:"legend",data:this.props.series.map((function(t,a){var n,r=(n=t).color?{name:n.name,symbol:{fill:n.color}}:{name:n.name};return e.state.hiddenSeries.has(a)?Object(p.a)({},r,{symbol:{fill:"#999"}}):r})),height:10,style:{labels:{fontSize:8,cursor:"pointer"}}})))}}]),a}(n.Component),M=a(174);function C(){var e=Object(M.a)(["\n    display: flex;\n    flex-direction: row;\n    padding: 10px;\n    flex-wrap: wrap;\n    justify-content: space-between;\n"]);return C=function(){return e},e}var J=a(175).a.div(C()),N=a(337),W=a(327),A=a(338),F=a(329),z=["#556b2f","#2f4f4f","#dcdcdc","#d2691e","#4682b4","#3cb371","#808000","#708090","#006400","#191970","#7f0000","#ffb6c1","#ff69b4","#7fffd4","#ff1493","#87ceeb","#90ee90","#dda0dd","#fa8072","#f0e68c","#db7093","#1e90ff","#ff00ff","#da70d6","#ff6347","#adff2f","#a020f0","#0000ff","#9370db","#f4a460","#00bfff","#00ffff","#dc143c","#00ff7f","#00ff00","#deb887","#0000cd","#ffff00","#ffd700","#ff8c00","#ff4500","#9932cc","#8b008b","#8fbc8f","#daa520","#32cd32","#00008b","#20b2aa","#9acd32"];var K=a(122),L=a.n(K);function B(e){var t=L()(e,"YYYY-MM-DD"),a=t.year(),n=L()(a+"-01-01","YYYY-MM-DD");return t.diff(n,"days")}var H={2020:!0,2021:!0},P=function(e){var t=e.data,a=e.placeName,n=r.a.useState(H),l=Object(i.a)(n,2),c=l[0],o=l[1],s=function(e){var t=e.target,a=t.name,n=t.checked,r=Object(p.a)({},c);r[a]=n,o(r)},f=t.map((function(e,t){var a=e.year,n=e.yearData;return{name:a,color:z[t],datapoints:n.map((function(e){var t=e.date,a=e.snow;return{x:B(t),y:a}}))}}));return r.a.createElement(J,null,r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement("h1",null,a," Snow Depth"),r.a.createElement(Y,{series:f.filter((function(e){var t=e.name;return c[t]}))})),f&&r.a.createElement("div",{style:{minWidth:"300px"}},r.a.createElement(N.a,null,"Years"),r.a.createElement(W.a,{label:"Years",style:{display:"flex",flexFlow:"column wrap",maxHeight:"680px",overflow:"auto",alignContent:"flex-start",width:"300px"}},Object(b.a)(f).reverse().map((function(e){var t=e.name;return r.a.createElement(G,{year:t,selectedYears:c,handleCheckboxChange:s,key:t})})))))},G=function(e){var t=e.selectedYears,a=e.handleCheckboxChange,n=e.year;return r.a.createElement(A.a,{control:r.a.createElement(F.a,{checked:t[n],onChange:a,name:n,style:{color:"black"}}),label:n})},I=function(){var e=r.a.useState(void 0),t=Object(i.a)(e,2),a=t[0],l=t[1],c=r.a.useState(!1),o=Object(i.a)(c,2),s=o[0],f=o[1];return Object(n.useEffect)((function(){u.getSnowDepth().then(l,(function(){return f(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(d,null),a?a.map((function(e){var t=e.data,a=e.place;return r.a.createElement(P,{data:t,placeName:a,key:a})})):r.a.createElement(h,null))};var R=function(){return r.a.createElement(I,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.2552ccbb.chunk.js.map